<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Palavras Cruzadas - Trânsito</title>
    <link rel="stylesheet" href="styles.css">
    <style>
        body {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            min-height: 100vh;
            background-color: #f0f0f0;
            margin: 0;
            font-family: Arial, sans-serif;
        }
        #crossword-container {
            display: grid;
            grid-template-columns: repeat(15, 40px);
            gap: 2px;
            background-color: #ccc;
            padding: 10px;
            border-radius: 10px;
        }
        .cell {
            width: 40px;
            height: 40px;
            text-transform: uppercase;
            text-align: center;
            vertical-align: middle;
            font-size: 18px;
            font-weight: bold;
            border: 1px solid #333;
        }
        .filled {
            background-color: white;
        }
        .empty {
            background-color: #696969;
        }
        .correct {
            background-color: #90EE90;
        }
        .button-container {
            margin: 20px auto;
        }
        .button {
            margin: 0 10px;
            padding: 10px 20px;
            font-size: 18px;
            cursor: pointer;
        }
        .hints {
            margin-top: 20px;
            text-align: left;
            max-width: 600px;
        }
        .hints h2 {
            margin: 0 0 10px;
        }
        .hints p {
            margin: 5px 0;
        }
    </style>
</head>
<body>
    <h2>Palavras Cruzadas - Orgãos Normativos e Executivos</h2>
    <div id="crossword-container"></div>
    <div class="button-container">
        <button class="button" onclick="checkAnswers()">Corrigir</button>
        <button class="button" onclick="showAnswers()">Mostrar Respostas</button>
    </div>

    <div class="hints">
        <h2>Dicas:</h2>
        <p>1. Órgão máximo normativo de trânsito - 7 letras</p>
        <p>2. Conselho Estadual de Trânsito - 6 letras</p>
        <p>3. Departamento de trânsito regional - 6 letras</p>
        <p>4. Polícia Militar Rodoviária - 3 letras</p>
        <p>5. Secretaria Nacional de Trânsito - 8 letras</p>
        <p>6. Prefeitura responsável pelo trânsito municipal - 15 letras</p>
    </div>

    <script>
        const words = [
            { word: "CONTRAN", row: 0, col: 0, direction: "horizontal" }, // 1
            { word: "CETRAN", row: 0, col: 0, direction: "vertical" }, // 2
            { word: "SENATRAN", row: 0, col: 8, direction: "vertical" }, // 3
            { word: "PM", row: 4, col: 2, direction: "vertical" }, // 4            
            { word: "DETRAN", row: 2, col: 13, direction: "vertical" }, // 6
            { word: "DNIT", row: 7, col: 7, direction: "horizontal" }, // 7
            { word: "PRF", row: 11, col: 8, direction: "horizontal" }, // 8
            { word: "CONTRANDIFE", row: 3, col: 3, direction: "horizontal" }, // 9
            { word: "PREFEITURA", row: 4, col: 2, direction: "horizontal" }, // 10
            { word: "CIRETRAN", row: 6, col: 9, direction: "vertical" }, // 10
            { word: "DER", row: 9, col: 8, direction: "horizontal" }, // 10
        ];

        const gridSize = 15;
        const crosswordContainer = document.getElementById('crossword-container');

        // Criação da grade
        for (let i = 0; i < gridSize; i++) {
            for (let j = 0; j < gridSize; j++) {
                const cell = document.createElement('input');
                cell.setAttribute('maxlength', '1');
                cell.classList.add('cell', 'empty');
                cell.id = `cell-${i}-${j}`;
                crosswordContainer.appendChild(cell);

                // Limpeza de campo ao clicar novamente
                cell.addEventListener('focus', (e) => {
                    if (e.target.value) {
                        e.target.value = '';
                    }
                });
            }
        }

        // Preenchendo a grade com palavras
        words.forEach(({ word, row, col, direction }) => {
            for (let i = 0; i < word.length; i++) {
                const currentRow = direction === "horizontal" ? row : row + i;
                const currentCol = direction === "horizontal" ? col + i : col;
                const cell = document.getElementById(`cell-${currentRow}-${currentCol}`);
                if (cell) {
                    cell.classList.remove('empty');
                    cell.classList.add('filled');
                    cell.dataset.letter = word[i];
                    cell.dataset.direction = direction;
                }
            }
        });

        // Função para avançar o cursor automaticamente
        document.querySelectorAll('.cell.filled').forEach(cell => {
            cell.addEventListener('input', (e) => {
                const direction = e.target.dataset.direction;
                const [_, row, col] = e.target.id.split('-').map(Number);

                if (e.target.value.length === 1) {
                    let nextRow = row;
                    let nextCol = col;

                    if (direction === 'horizontal') {
                        nextCol += 1;
                    } else if (direction === 'vertical') {
                        nextRow += 1;
                    }

                    const nextCell = document.getElementById(`cell-${nextRow}-${nextCol}`);
                    if (nextCell && nextCell.classList.contains('filled')) {
                        nextCell.focus();
                    }
                }
            });
        });

        // Função de verificação
        function checkAnswers() {
            const cells = document.querySelectorAll('.cell.filled');
            cells.forEach(cell => {
                const userInput = cell.value.toUpperCase();
                const correctLetter = cell.dataset.letter;
                if (userInput === correctLetter) {
                    cell.classList.add('correct');
                } else {
                    cell.classList.remove('correct');
                }
            });
        }

        // Função para mostrar todas as respostas
        function showAnswers() {
            const cells = document.querySelectorAll('.cell.filled');
            cells.forEach(cell => {
                cell.value = cell.dataset.letter; // Preenche a célula com a letra correta
                cell.classList.add('correct'); // Adiciona a classe de correto
            });
        }
    </script>
     <div>
        <button class="button-exit" onclick="location.href='selectMode.html'">SAIR</button>            
        <h1><br></h1>       
    </div>
</body>
</html>
